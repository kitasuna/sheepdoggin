pico-8 cartridge // http://www.pico-8.com
version 43
__lua__

-- Set palette first so that artists can work even with missing files xD
pal({[0]=128,136,9,7,15,135,138,139,3,131,1,6,13,141,132,4},1)
poke(0x5f2e, 1)

#include _game.lua
#include _title.lua
#include physics.lua
#include player.lua
#include sheep.lua
#include vector2.lua
#include physics.lua
#include camerafollow.lua
#include animation.lua

-- globals for controlling time stuff
_now = 0
_last_ts = 0

-- main
function _init()
  printh("--init")

  _now = time()
  _last_ts = _now

  sheep_mgr = SheepMgr:new()
  sheep_mgr:spawn()
  physics = Physics:new()

  __update = update_game
  __draw = draw_game
  _camera_init()
  _init_animation()
end

function _update60()
  _now = time()
  local dt = _now - _last_ts
  __update(dt)
  _last_ts = _now
  _camera_update()
  _update_animation()
end

function _draw()
  _camera_draw()
  __draw()
  _draw_animation()
end
__gfx__
00000000888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000888888888888888888888888888888888888888888888888888888888888888888888bbb888cb8888888888888888888888888888888888888888888
007007008888888888888888888888888888888888888888888888888888888888888888888bb444bbcbbb888888888888888888888888888888888888888888
000770008bbfb2888bbbfb28888888888888888888888888888888888888888888888888888b44444bcbbb8888bbbbbbb8888888888888888888888888888888
000770008bbbb2288bbbbb22888888888888888888888888888888888888888888888888888bb4444bbbb888833333333b888888888888888888888888888888
007007008bb888888bbb888888888888888188888888888888888888888888888888888888888bbbbbab88883333333333888888888888888888888888888888
000000008bb8888888bb888888888888886668888888888888888888888888888888888888888bbbbbbbb8883333333343444888888888888888888888888888
000000008bbb888888bb888888888888866166888888888888888888888888888888888888bbbbbbbbbb88883333333343304888888888888888888888888888
888888888bbb888888bbb88888886666666666888888888888888888888888888888888888888bbb888888883333333333344488888888888888888888888888
8888888888bbbbb888bbbb888887776666666888888888888f8f8888888888888f8f8888888bb444bb8cb8883333333333344488888888888888888888888888
8eaa888888bbbbb88bbbbb888867777767768888888888888f8f8888888888888f8f8888888b44444bcbbb883333333333338888888888888888888888888888
8ea3388888bcbcb88bcbcb888867766666768888888888888f8f8888888888288f8f8888888bb4444bcbbb88b3333333333b8888888888888888888888888888
8eaa33888bbbcbb8bbbcbb8888877666667777888888882222222888888888822222288888888bbbccbbb8888bbb3333bbb88888888888888888888888888888
8eaaa33ebbbbbbbbbbbbbb88888877778877778888888888222d222288888888222d22228888888cbbab88888884b4b484888888888888888888888888888888
8e33333888288288882882888888888888888888888888882e222222888888882e222222888888cbbbbbb8888884848484888888888888888888888888888888
8e333338882282288822822888888888888888888888888822222228888888882222222888bbbbbbbbbb88888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888822228888888888882222888885558855888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888822e288888888888822e2888882222822888888888888888888888888888888888888888888888888
888888888888888888888888888888888888888888888888222288888888888822228888882222222228888888888888888888888888888888aa888888888888
8888888888888888888888888888888888888888888888882e228888888888882e2288888882222222d2288888bbbbbbb88888888888888888a3388888888888
8888888888888888888888888888888888888888888888882222888888888888222288888822822222222888833333333b8888888888888888aa338888888888
88888888888888888888888888888888888888888888888822e288888888888822e28888822282222222888833333333338888888888888888aad33e88888888
88888888888888888888888888888888888888888888882e222288888888882e2222888882288822888888883333333333bb8888888888888b33333888888888
88888888888888888888888888888888888888888882e222e22288888882e222e22288888558888888888888333333333333b88888888888b333333888888888
88888888888888888888888888888888888888888822222e222288888822222e222288888555885588888888333333333333b888880aaaaa0333b88888888888
8888888888888888888888888888888888888888822e2e2222e28888822e2e2222e288888222882288888888333333334344488880aaaaaaa333388888888888
88888888888888888888888888888888888888888e82222e222288888e82222e22228888882282222228888833333333433448888aaaaaaaa333388888888888
888888888888888888888888888888888888888882828282888e888828828282822e88888882822222d22888b3333333333444888aaaaaaaa333388888888888
88888888888888888888888888888888888888888f8e8e82288e8888f88e8e8288e8888888222222222228888bbb3333333444888a3aaaaaaaa3388888888888
888888888888888888888888888888888888888888828288e882888888828282e828888882222222222288888884b4b484888888833a8aaa0aaaa88888888888
8888888888888888888888888888888888888888888282882882888888828288282888888228882288888888888484848488888883338a8a80a8a88888888888
8888888888888888888888888888888888888888888e8e88e88e8888888e8e88e8e888888558888888888888888888888888888883338a8a88a8a88888888888
88888888888888888886888888888888886768888876788888888888000000000000000088888888888888880000000000000000000000000000000000000000
88888888888888888876888888888888867676788777667888888888000000000000000088888888888888880000000000000000000000000000000000000000
8878888888788888887878888888688897776767977676688bb88888000000000000000088888888888888880000000000000000000000000000000000000000
8878878888788788878878878888888877767677777776778cb88888000000000000000088899998999888880000000000000000000000000000000000000000
8788888887888888878888888888888877777776777777768888b888000000000000000088899999bbb988880000000000000000000000000000000000000000
88888888888888888888878888888888977777777777777788888888000000000000000088999999999988880000000000000000000000000000000000000000
8888888888888888888888888888888889977778797777788888888800000000000000008899999899b998880000000000000000000000000000000000000000
88888888888888888888888888868888888899989999779888888888000000000000000088aa9988999998880000000000000000000000000000000000000000
888888888888888888885888888888868888888888888888000000000000000000000000888a9999999998880000000000000000000000000000000000000000
88888888888888888885c588888888888888888888bb8888000000000000000000000000888a9999999999880000000000000000000000000000000000000000
88888888888888888588588888888888888888888cbbbb88000000000000000000000000888aa99999999b980000000000000000000000000000000000000000
88888888888888885d5888888888888888888888cccbbbb80000000000000000000000008888aa99999999b80000000000000000000000000000000000000000
8898888888988888858888888858888888888888cccbbbb800000000000000000000000088888aa9999999980000000000000000000000000000000000000000
88888888888888888888888885c5888888888888cccbccbb00000000000000000000000088888888899999980000000000000000000000000000000000000000
8888888888888888888888888858888888888888cccccccb000000000000000000000000888888888a9999980000000000000000000000000000000000000000
88888888888888888888888888888888888888888ccccccc0000000000000000000000008888888888a999880000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
eeeeeeeeeeeeeeeeeeeeeeee88788887efeb1de88ed1befeeeeeeeee88888888effe98888879effe000000000000000000000000000000000000000000000000
effffffeeffffffeffffffffeeeeeeeeefe1c1e88e1c1efeffffffff88888888effe98888879effe000000000000000000000000000000000000000000000000
effffffeeffffffeeeeeeeeed1ddd2ddefe51de87ed15efeffffffff88788877effe97888889effe000000000000000000000000000000000000000000000000
effffffeeffffffeb925c51b1c152c29efec5de88ed5cefeeeeeeeee99999999effe98888889effe000000000000000000000000000000000000000000000000
effffffeeffffffe92c251c1b15c529befe52de88ed25efe99999999eeeeeeeeeffe98888889effe000000000000000000000000000000000000000000000000
effffffeeffffffedd2ddd1deeeeeeeeefe2c2e88e2c2efe77888788ffffffffeffe98888879effe000000000000000000000000000000000000000000000000
eefffffeeefffffeeeeeeeeeffffffffefe92de88ed29efe88888888ffffffffeffe97888889effe000000000000000000000000000000000000000000000000
eeeeeeeeeeeeeeee78888888eeeeeeeeefeb9de88ed9befe88888888eeeeeeeeeffe97888889effe000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000a0000a0010001100d00dd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000555000000a00a000010110000ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000055050005000aa00000011000000dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000050055055000aa0000001100000dddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000005000555000a00a00001001000dd00dd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000a0000a001000010dd0000dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000d000000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ee3333ee000ee77711111111aaaaaaaa000ee777000ee777000ee777000ee7770000000000000000000000000000000000000000000000000000000000000000
e333333e000e777011111111aaaaaaaa000e7770000e7770000e7770000e77700000000000000000000000000000000000000000000000000000000000000000
e3333333022e222011111111aaaaaaaa066e6660022e2220022e2220022e22200000000000000000000000000000000000000000000000000000000000000000
003333332222222211111111aaaaaaaa666666662222222222222222222222220000000000000000000000000000000000000000000000000000000000000000
003333332202022211111111aaaaaaaa660606662222022222222222220222220000000000000000000000000000000000000000000000000000000000000000
e33333332220222211111111aaaaaaaa666066662220222222202222222022220000000000000000000000000000000000000000000000000000000000000000
e303303e0222222011111111aaaaaaaa066666600222022002020220020222200000000000000000000000000000000000000000000000000000000000000000
ee0ee0ee0022220011111111aaaaaaaa006666000022220000222200002222000000000000000000000000000000000000000000000000000000000000000000
__map__
7075707571757053537075757570757000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7751434042404040535340514544527800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7044544053404153534040414344407000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7742504140535353534040424849417400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7340405240405353535340535859507400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7741434440414040535453484040417400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7044504840504053405340424550517000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7754435045404040405150414151547800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7072707275727272727272727572757000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
